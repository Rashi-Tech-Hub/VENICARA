<%- include('../partials/user/header.ejs') %> 
<%- include('../partials/user/sidebarProfile.ejs') %>

<style>
  .wallet-card {
    max-width: 600px; /* keeps it neat on large screens */
    width: 100%;      /* full width on mobile */
  }
  .add-input {
    border: none;
    text-align: center;
    padding: 1.2rem 0;
    font-size: 22px;
    font-weight: bolder;
    background: rgb(240, 240, 240);
    width: 100%; /* stretches input */
  }
  .add-input:focus-visible {
    outline: none !important;
  }

  /* tweak buttons for mobile */
  .preset-btn {
    margin: 0.25rem;
    min-width: 80px;
  }
</style>

<main class="w-100 d-flex justify-content-center px-md-2 p-0">
  <div class="card rounded-4 p-4 shadow wallet-card">
    <div class="row g-3">
      <div class="col-12 text-center">
        <p class="fs-3 fw-bold mt-1">MY WALLET</p>
      </div>

      <!-- BALANCE -->
      <div class="col-12 rounded-3 p-3 border bg-light">
        <span class="fs-6 fw-bold">TOTAL BALANCE</span>
        <hr class="my-2" />
        <span class="d-flex justify-content-between align-items-center">
          <span class="fs-6 fw-semibold">WALLET</span>
          <span class="text-success fs-4 fw-semibold" id="balance">₹<%=Math.round(wallet?.balance)%></span>
        </span>
      </div>

      <!-- ADD MONEY -->
      <div class="col-12 rounded-3 p-3 border bg-light">
        <span class="fs-6 fw-bold">ADD TO WALLET</span>
        <hr class="my-2" />
        <form id="walletForm" action="#" method="POST">
          <div class="text-center p-1">
            <input
              type="text"
              id="amount"
              name="amount"
              class="add-input rounded-3"
              value="₹"
              maxlength="10"
              placeholder="Amount"
            />
          </div>

          <div class="text-center p-2 d-flex flex-wrap justify-content-center">
            <button type="button" class="btn btn-outline-dark preset-btn" data-value="100">₹100</button>
            <button type="button" class="btn btn-outline-dark preset-btn" data-value="200">₹200</button>
            <button type="button" class="btn btn-outline-dark preset-btn" data-value="500">₹500</button>
          </div>

          <div class="text-center p-2">
            <button type="submit" class="btn btn-dark fw-bold w-100">ADD MONEY</button>
          </div>
        </form>
      </div>

      <!-- TRANSACTIONS -->
      <div class="col-12 text-center">
        <a href="/wallet/history" class="btn btn-primary px-4 fw-semibold w-100">Show Transaction History</a>
      </div>
    </div>
  </div>
</main>

<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script>
  // existing JS logic (unchanged)...
</script>
</body>
</html>
